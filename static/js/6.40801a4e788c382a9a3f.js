webpackJsonp([6],{"9aEo":function(t,e){},B8M0:function(t,e){},GWFh:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iNC4zNzUiIHk9IjQuMjUiIHdpZHRoPSIxMS4yNSIgaGVpZ2h0PSIxMy43NSIgcng9IjIuNSIgZmlsbD0id2hpdGUiIHN0cm9rZT0iYmxhY2siLz4KPHBhdGggZD0iTTExLjg3NSAzSDguMTI1QzcuNzc5ODIgMyA3LjUgMy4yNzk4MiA3LjUgMy42MjVWNC44NzVDNy41IDUuMjIwMTggNy43Nzk4MiA1LjUgOC4xMjUgNS41SDExLjg3NUMxMi4yMjAyIDUuNSAxMi41IDUuMjIwMTggMTIuNSA0Ljg3NVYzLjYyNUMxMi41IDMuMjc5ODIgMTIuMjIwMiAzIDExLjg3NSAzWiIgZmlsbD0id2hpdGUiIHN0cm9rZT0iI0REMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="},MSGJ:function(t,e){},SLF5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Xxa5"),n=i.n(a),o=i("Dd8w"),r=i.n(o),s=i("exGp"),c=i.n(s),M=i("O4Lo"),d=i.n(M),I=i("t6e8"),l=i("18cF"),m=null,u={inject:["cardInfo"],created:function(){this.assignHtml2canvas(),this.getQRIMGFullPath(),this.$gio.ClicktoviewQRcode()},data:function(){return{loadedQRcode:!1,qrPath:""}},methods:{laodedImg:function(){this.loadedQRcode=!0},assignHtml2canvas:function(){if(m)return m;i.e(18).then(i.bind(null,"eMjc")).then(function(t){m=t})},getQRIMGFullPath:function(){var t=this;return c()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestMethodGet("/web/file/getFullUrl",{url:t.cardInfo.qrImgPath});case 2:i=e.sent,t.qrPath=i.data.data;case 4:case"end":return e.stop()}},e,t)}))()},downloadQRCode:function(){var t=this;this.$nextTick(function(){var e=document.getElementById("InterceptElementContainer");t.loadedQRcode&&m(e,{useCORS:!0,backgroundColor:"#fff"}).then(function(e){var i=e.toDataURL("image/png"),a=document.createElement("a");a.href=i,a.download="记录表二维码_"+t.cardInfo.formName+".png",document.body.appendChild(a),a.click(),document.body.removeChild(a),t.$gio.Clicktosavepicture()})})}}},f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-qr-container"},[i("div",{attrs:{id:"InterceptElementContainer"}},[i("div",{staticClass:"form-qr-form-info"},[i("div",{staticStyle:{"text-align":"center","font-size":"18px","font-weight":"bloder","margin-bottom":"8px"}},[t._v(t._s(t.cardInfo.formName))]),t._v(" "),i("div",{staticStyle:{"text-align":"center","font-size":"15px",color:"#999"}},[t._v(t._s(t.cardInfo.remark))])]),t._v(" "),i("div",{staticClass:"form-qr-img"},[i("el-image",{attrs:{src:t.qrPath,fit:"none",crossOrigin:"anonymous"},on:{load:t.laodedImg}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-loading"})]),t._v(" "),i("div",{staticClass:"image-slot",attrs:{slot:"load"},slot:"load"},[i("i",{staticClass:"el-icon-loading"})])])],1),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center",height:"fit-content"}},[i("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"mini",type:"danger"},on:{click:t.downloadQRCode}},[t._v("下载二维码")])],1)])};f._withStripped=!0;var g={render:f,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-qr-tip"},[this._v("使用 "),e("span",{staticStyle:{color:"#000"}},[this._v("微信小程序")]),this._v(" 扫码，可直接填写表单")])}]},h=g;var z=!1;var j=i("VU/8")(u,h,!1,function(t){z||i("9aEo")},"data-v-b36e8204",null);j.options.__file="src/components/formApplication/formRecordList/components/QRCode.vue";var v=j.exports,D={props:{formItemInfo:{type:Object,default:function(){}},fillAuth:{type:Boolean,default:!0},viewAuth:{type:Boolean,default:!0},companyId:{type:String,default:""},deviceId:{type:String,default:""}},methods:{viewQRCode:function(t){Object(l.a)({width:"20%",noStyle:!0,title:"查看二维码",ContentComponent:v,componentProps:{cardInfo:t}})},fillForm:function(){this.$router.push({name:"formFill",query:{formId:this.formItemInfo.id,formName:this.formItemInfo.formName}}),this.$gio.ClickFillformrecord()},viewHistoryRecord:function(){var t={formName:this.formItemInfo.formName,formId:this.formItemInfo.id};this.companyId&&(t.companyId=this.companyId),this.deviceId&&(t.deviceId=this.deviceId),this.$router.push({name:"formHistoryRecord",query:t}),this.$gio.Clickhistory()}}},y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("div",{staticClass:"card-top-inner"},[a("div",{staticClass:"card-top-left"},[a("div",{staticClass:"card-info-tip"},[a("img",{staticStyle:{"margin-right":"10px"},attrs:{src:i("GWFh")}}),t._v(" "),a("div",{staticClass:"card-info-title"},[t._v(t._s(t.formItemInfo.formName))])]),t._v(" "),a("div",{staticClass:"card-info-desc"},[t._v(t._s(t.formItemInfo.remark))])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.viewAuth,expression:"viewAuth"}],staticClass:"card-top-right"},[a("img",{staticStyle:{cursor:"pointer"},attrs:{src:i("TJa7")},on:{click:function(e){return t.viewQRCode(t.formItemInfo)}}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.viewAuth||t.fillAuth,expression:"viewAuth || fillAuth"}],staticClass:"card-bottom-inner"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.viewAuth,expression:"viewAuth"}],staticClass:"card-history",on:{click:t.viewHistoryRecord}},[a("i",{staticClass:"el-icon-time",staticStyle:{"margin-right":"5px"}}),t._v("历史记录")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.fillAuth,expression:"fillAuth"}],attrs:{type:"danger",plain:"",size:"mini"},on:{click:t.fillForm}},[t._v("填表")])],1)])};y._withStripped=!0;var p={render:y,staticRenderFns:[]},N=p;var w=!1;var A=i("VU/8")(D,N,!1,function(t){w||i("MSGJ")},"data-v-2921fd76",null);A.options.__file="src/components/formApplication/formRecordList/components/formRecordListItem.vue";var C=A.exports,x={props:{deviceId:{type:String,default:""},companyId:{type:String,default:""},fillAuth:{type:Boolean,default:!0},viewAuth:{type:Boolean,default:!0}},components:{RecordCard:C},data:function(){return{pageInfo:{size:10,current:1},searchForm:{recordName:""},tableTotal:0,listData:[]}},created:function(){this.getFormList()},methods:{changeSearch:d()(function(){this.pageInfo={size:10,current:1},this.$gio.ClickSearchRecordSheet(),this.getFormList({searchKey:this.searchForm.recordName})},800),handleSizeChange:function(t){this.pageInfo.size=t,this.getFormList()},handleCurrentChange:function(t){this.pageInfo.current=t,this.getFormList()},getFormList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c()(n.a.mark(function i(){var a,o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=r()({},e,t.pageInfo,{menuCode:"form_manage"}),t.deviceId&&(a.deviceId=t.deviceId),t.companyId&&(a.companyId=t.companyId),i.next=5,Object(I.g)(a);case 5:o=i.sent,t.tableTotal=o.data.data.totalCount,t.listData=o.data.data.list;case 8:case"end":return i.stop()}},i,t)}))()}}},L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"search-bar"},[i("el-form",{staticStyle:{width:"25%"},attrs:{model:t.searchForm,inline:!0,"label-width":"90px","label-position":"left"}},[i("el-form-item",{attrs:{label:"搜索记录表"}},[i("el-input",{staticStyle:{width:"160%"},attrs:{size:"mini",placeholder:"请输入关键词搜索记录表","prefix-icon":"el-icon-search",clearable:""},on:{input:t.changeSearch},model:{value:t.searchForm.recordName,callback:function(e){t.$set(t.searchForm,"recordName",e)},expression:"searchForm.recordName"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"form-record-list"},[t._l(t.listData,function(e){return i("RecordCard",{key:e.id,attrs:{formItemInfo:e,fillAuth:t.fillAuth,viewAuth:t.viewAuth,companyId:t.companyId,deviceId:t.deviceId}})}),t._v(" "),i("el-pagination",{staticStyle:{display:"flex",height:"60px","align-items":"center",background:"#fff","z-index":"999",bottom:"0"},attrs:{"page-sizes":[10,20,30,50],"page-size":t.pageInfo.size,"current-page":t.pageInfo.current,total:t.tableTotal,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],2)])};L._withStripped=!0;var S={render:L,staticRenderFns:[]},Y=S;var R=!1;var _=i("VU/8")(x,Y,!1,function(t){R||(i("ZqP0"),i("B8M0"))},"data-v-ba9757ee",null);_.options.__file="src/components/formApplication/formRecordList/index.vue";var b={components:{RecordCardList:_.exports},methods:{createForm:function(){this.$router.push({name:"formTemplateList"})}}},E=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-manage-container"},[e("el-button",{directives:[{name:"has",rawName:"v-has",value:this.form_manage,expression:"form_manage"}],staticClass:"config-btn",attrs:{type:"danger",size:"mini"},on:{click:this.createForm}},[this._v("配置记录表")]),this._v(" "),e("RecordCardList",{ref:"recordCardList"})],1)};E._withStripped=!0;var T={render:E,staticRenderFns:[]},Q=T;var k=!1;var U=i("VU/8")(b,Q,!1,function(t){k||i("te0J")},"data-v-97f190e2",null);U.options.__file="src/components/formApplication/index.vue";e.default=U.exports},TJa7:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiByeD0iNCIgZmlsbD0iIzAwMTQ1MCIgZmlsbC1vcGFjaXR5PSIwLjA1Ii8+CjxwYXRoIGQ9Ik0yMi4wMDEzIDE0LjAwMDNWMjAuNjY3QzIyLjAwMTMgMjEuNDY3IDIxLjQ2OCAyMi4wMDAzIDIwLjY2OCAyMi4wMDAzSDE0LjAwMTNDMTMuMjAxMyAyMi4wMDAzIDEyLjY2OCAyMS40NjcgMTIuNjY4IDIwLjY2N1YxNC4wMDAzQzEyLjY2OCAxMy4yMDAzIDEzLjIwMTMgMTIuNjY3IDE0LjAwMTMgMTIuNjY3SDIwLjY2OEMyMS40NjggMTIuNjY3IDIyLjAwMTMgMTMuMjAwMyAyMi4wMDEzIDE0LjAwMDNaIiBzdHJva2U9IiMwMDE0NTAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTE4LjY2NjcgMTguNjY2N0gxNlYxNkgxOC42NjY3VjE4LjY2NjdaIiBmaWxsPSIjREQwMDAwIi8+CjxwYXRoIGQ9Ik0yMi4wMDEzIDI3LjMzMzNWMzRDMjIuMDAxMyAzNC44IDIxLjQ2OCAzNS4zMzMzIDIwLjY2OCAzNS4zMzMzSDE0LjAwMTNDMTMuMjAxMyAzNS4zMzMzIDEyLjY2OCAzNC44IDEyLjY2OCAzNFYyNy4zMzMzQzEyLjY2OCAyNi41MzMzIDEzLjIwMTMgMjYgMTQuMDAxMyAyNkgyMC42NjhDMjEuNDY4IDI2IDIyLjAwMTMgMjYuNTMzMyAyMi4wMDEzIDI3LjMzMzNaIiBzdHJva2U9IiMwMDE0NTAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTE4LjY2NjcgMjkuMzM0SDE2VjMyLjAwMDdIMTguNjY2N1YyOS4zMzRaIiBmaWxsPSIjREQwMDAwIi8+CjxwYXRoIGQ9Ik0yOC4wMDI2IDMzLjMzNEgyNS4zMzU5VjM2LjAwMDdIMjguMDAyNlYzMy4zMzRaIiBmaWxsPSIjMDAxNDUwIi8+CjxwYXRoIGQ9Ik0zMi4wMDI2IDI5LjMzNEgyOS4zMzU5VjMyLjAwMDdIMzIuMDAyNlYyOS4zMzRaIiBmaWxsPSIjMDAxNDUwIi8+CjxwYXRoIGQ9Ik0yOC4wMDI2IDI1LjMzNEgyNS4zMzU5VjI4LjAwMDdIMjguMDAyNlYyNS4zMzRaIiBmaWxsPSIjMDAxNDUwIi8+CjxwYXRoIGQ9Ik0zNi4wMDI2IDI5LjMzNEgzMy4zMzU5VjMyLjAwMDdIMzYuMDAyNlYyOS4zMzRaIiBmaWxsPSIjMDAxNDUwIi8+CjxwYXRoIGQ9Ik0zNi4wMDI2IDI1LjMzNEgzMy4zMzU5VjI4LjAwMDdIMzYuMDAyNlYyNS4zMzRaIiBmaWxsPSIjMDAxNDUwIi8+CjxwYXRoIGQ9Ik0zNi4wMDI2IDMzLjMzNEgzMy4zMzU5VjM2LjAwMDdIMzYuMDAyNlYzMy4zMzRaIiBmaWxsPSIjMDAxNDUwIi8+CjxwYXRoIGQ9Ik0zNS4zMzMzIDE0LjAwMDNWMjAuNjY3QzM1LjMzMzMgMjEuNDY3IDM0LjggMjIuMDAwMyAzNCAyMi4wMDAzSDI3LjMzMzNDMjYuNTMzMyAyMi4wMDAzIDI2IDIxLjQ2NyAyNiAyMC42NjdWMTQuMDAwM0MyNiAxMy4yMDAzIDI2LjUzMzMgMTIuNjY3IDI3LjMzMzMgMTIuNjY3SDM0QzM0LjggMTIuNjY3IDM1LjMzMzMgMTMuMjAwMyAzNS4zMzMzIDE0LjAwMDNaIiBzdHJva2U9IiMwMDE0NTAiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPHBhdGggZD0iTTMyLjAwMjYgMTZIMjkuMzM1OVYxOC42NjY3SDMyLjAwMjZWMTZaIiBmaWxsPSIjREQwMDAwIi8+Cjwvc3ZnPgo="},ZqP0:function(t,e){},te0J:function(t,e){}});