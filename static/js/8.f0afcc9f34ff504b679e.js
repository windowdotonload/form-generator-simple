webpackJsonp([8],{"+ff0":function(e,t){},HCmx:function(e,t){e.exports="data:image/png;base64,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"},Hhcu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("fZjL"),r=a.n(l),i=a("Dd8w"),n=a.n(i),s=a("Xxa5"),c=a.n(s),o=a("exGp"),p=a.n(o),u=a("O4Lo"),d=a.n(u),h={name:"ColumnHeader",props:{showTips:{type:Boolean,default:!1},selectMultiple:{type:Boolean,default:!1},filterType:{type:String,default:""},placeholder:{type:String,default:""},title:{type:String,default:""},changeValue:{type:[String,Array],default:""},changeValueInput:{type:[String,Array],default:""},changeValueSelect:{type:[String,Array],default:""},paramValue:{type:String,default:""},sortTypeVal:{type:String,default:""},selectOptions:{type:[Array,Object],default:function(){return[]}},chSubmit:[Function]},watch:{},mounted:function(){},data:function(){return{loadingRemote:!1,changeType:"",isLoadService:!1,industruProps:{value:"serviceNumber",label:"serviceName",children:"children",disabled:!1,multiple:!0},serviceTypeList:[]}},methods:{openServiceCascader:function(e){e&&this.$_getServiceList()},$_getServiceList:function(){var e=this;this.requestMethodGet("/web/config/serviceConfiguration/getServiceConfTree",{serviceName:"",disabled:!0}).then(function(t){1e3==(t=t.data).code?(e.selectOptions=t.data,e.selectOptions=e.formatData(e.selectOptions)):e.$message({message:t.msg,type:"warning"})}).catch(function(e){})},formatData:function(e){for(var t=0;t<e.length;t++)e[t].children.length<1?e[t].children=void 0:this.formatData(e[t].children);return e},handleInputFocus:function(){var e=this;this.$nextTick(function(){e.$refs.autoFocus&&e.$refs.autoFocus.focus()})},changeQueryOil:function(e){this.queryOil("",e.toString())},queryOil:function(e,t){var a=this;this.loadingRemote=!0,this.requestMethodGet("/mdm/oil/queryOilListByPage",{code:t,oilName:e,fullQueryFlag:!0,size:200,current:1}).then(function(e){e=e.data,a.loadingRemote=!1,1e3==e.code?a.selectOptions=e.data.list:a.$message({message:e.msg,type:"warning"})}).catch(function(e){})},showMsg:function(){this.$message({type:"warning",message:"请选择一个客户后重新尝试"})},sortClick:function(){"sortUp"==this.sortTypeVal||"sortDefault"==this.sortTypeVal?this.sortTypeVal="sortDown":"sortDown"==this.sortTypeVal&&(this.sortTypeVal="sortUp"),this.$emit("changeSort",{paramValue:this.paramValue,sortTypeVal:this.sortTypeVal})},clearData:function(){this.changeValue="","inputAndselection"==this.filterType?"input"==this.changeType?this.$emit("chSubmit",{paramValue:this.paramValue,changeValueInput:"",changeType:this.changeType}):"selection"==this.changeType&&this.$emit("chSubmit",{paramValue:this.paramValue,changeValueSelect:"",changeType:this.changeType}):this.$emit("chSubmit",{paramValue:this.paramValue,changeValue:this.changeValue})},confirmSearch:function(){this.changeValue=0===this.changeValue||!1===this.changeValue?this.changeValue:this.changeValue||"",0==this.changeValue.length&&(this.changeValue=""),"inputAndselection"==this.filterType?"input"==this.changeType?this.$emit("chSubmit",{paramValue:this.paramValue,changeValueInput:this.changeValueInput,changeType:this.changeType}):"selection"==this.changeType&&this.$emit("chSubmit",{paramValue:this.paramValue,changeValueSelect:this.changeValueSelect,changeType:this.changeType}):this.$emit("chSubmit",{paramValue:this.paramValue,changeValue:this.changeValue})}}},m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cell-content"},[e._v("\n  "+e._s(e.title)+"\n  "),e.showTips?a("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:e.showMsg}},[a("i",{directives:[{name:"show",rawName:"v-show",value:"inputAndselection"==e.filterType,expression:"filterType=='inputAndselection'"}],staticClass:"fa fa-search title-click",style:e.changeValueInput?"color:#dd0000":"",on:{click:function(t){e.changeType="input"}}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"input"==e.filterType,expression:"filterType=='input'"}],staticClass:"fa fa-search title-click",style:e.changeValue?"color:#dd0000":""}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"inputAndselection"==e.filterType,expression:"filterType=='inputAndselection'"}],staticClass:"fa fa-filter title-click",style:0===e.changeValueSelect||!1===e.changeValueSelect?"color:#dd0000;margin-left:8px;":e.changeValueSelect?"color:#dd0000;margin-left:8px;":"margin-left:8px;",on:{click:function(t){e.changeType="selection"}}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"cascaderOil"==e.filterType||"cascaderIndustry"==e.filterType||"cascaderDevice"==e.filterType||"selection"==e.filterType||"dateSingle"==e.filterType||"dateRange"==e.filterType||"cascaderService"==e.filterType||"cascaderActtype"==e.filterType||"cascaderQue"==e.filterType||"datetimerange"==e.filterType,expression:"filterType=='cascaderOil'||filterType=='cascaderIndustry'||filterType=='cascaderDevice'||filterType=='selection'||filterType=='dateSingle'||filterType=='dateRange'||filterType=='cascaderService'||filterType=='cascaderActtype'||filterType=='cascaderQue'||filterType=='datetimerange'"}],staticClass:"fa fa-filter title-click",style:0===e.changeValue||!1===e.changeValue?"color:#dd0000;":e.changeValue?"color:#dd0000;":""}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.sortTypeVal,expression:"sortTypeVal!=''"}],staticClass:"sort_div iconPic",on:{click:function(t){return t.stopPropagation(),e.sortClick()}}},[a("div",{staticClass:"triangle-up",style:"sortUp"==e.sortTypeVal?"border-bottom: 6px solid #dd0000;":""}),e._v(" "),a("div",{staticClass:"triangle-down",style:"sortDown"==e.sortTypeVal?"border-top: 6px solid #dd0000;":""})])]):a("el-popover",{attrs:{placement:"bottom",width:"datetimerange"==e.filterType?380:250},on:{show:e.handleInputFocus}},[a("div",{staticStyle:{margin:"10px 10px 0"}},["inputAndselection"==e.filterType&&"input"==e.changeType?a("el-input",{ref:"autoFocus",attrs:{placeholder:"请输入关键字",size:"small",clearable:""},model:{value:e.changeValueInput,callback:function(t){e.changeValueInput=t},expression:"changeValueInput"}}):e._e(),e._v(" "),"inputAndselection"==e.filterType&&"selection"==e.changeType?a("el-select",{staticStyle:{width:"230px"},attrs:{placeholder:"请选择",popperAppendToBody:!1,size:"small",clearable:"",filterable:""},model:{value:e.changeValueSelect,callback:function(t){e.changeValueSelect=t},expression:"changeValueSelect"}},e._l(e.selectOptions,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1):e._e(),e._v(" "),"input"==e.filterType?a("el-input",{ref:"autoFocus",attrs:{placeholder:"请输入关键字",size:"small",clearable:""},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}}):e._e(),e._v(" "),"selection"==e.filterType?a("el-select",{staticStyle:{width:"230px"},attrs:{placeholder:e.placeholder?e.placeholder:"请选择",popperAppendToBody:!1,size:"small",clearable:"",filterable:"",multiple:e.selectMultiple},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}},e._l(e.selectOptions,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1):e._e(),e._v(" "),"cascaderService"==e.filterType?a("el-cascader",{staticStyle:{width:"230px"},attrs:{size:"small","popper-class":"pc-sel-area-cascader",options:e.selectOptions,props:e.industruProps,"collapse-tags":"",filterable:"",clearable:"",placeholder:"请选择"},on:{"visible-change":function(t){return e.openServiceCascader(t)}},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}}):e._e(),e._v(" "),"cascaderDevice"==e.filterType||"cascaderIndustry"==e.filterType||"cascaderActtype"==e.filterType?a("el-cascader",{staticStyle:{width:"230px"},attrs:{size:"small","popper-class":"pc-sel-area-cascader",options:e.selectOptions,props:{value:"code",label:"name",multiple:e.selectMultiple},"collapse-tags":"",filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}}):e._e(),e._v(" "),"cascaderOil"==e.filterType?a("el-select",{staticStyle:{width:"230px"},attrs:{size:"small","collapse-tags":"",filterable:"",clearable:"",multiple:"",remote:"",loading:e.loadingRemote,placeholder:"试试搜索：油品名称","remote-method":e.queryOil},on:{change:e.changeQueryOil},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}},e._l(e.selectOptions,function(e){return a("el-option",{key:e.code,attrs:{label:e.oilAlias,value:e.code}})}),1):e._e(),e._v(" "),"cascaderQue"==e.filterType?a("el-cascader",{staticStyle:{width:"230px"},attrs:{size:"small","popper-class":"pc-sel-area-cascader",options:e.selectOptions,props:{value:"id",label:"name",multiple:e.selectMultiple},"collapse-tags":"",filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}}):e._e(),e._v(" "),"dateRange"==e.filterType?a("el-date-picker",{staticStyle:{width:"230px"},attrs:{size:"small",clearable:"","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}}):e._e(),e._v(" "),"dateSingle"==e.filterType?a("el-date-picker",{staticStyle:{width:"230px"},attrs:{size:"small",clearable:"","value-format":"yyyy-MM-dd",placeholder:"选择日期",type:"date"},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}}):e._e(),e._v(" "),"datetimerange"==e.filterType?a("el-date-picker",{staticStyle:{width:"350px"},attrs:{size:"small",clearable:"","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}}):e._e(),e._v(" "),a("div",{staticStyle:{display:"flex","margin-top":"20px","justify-content":"flex-end"}},[a("el-button",{staticStyle:{color:"#000"},attrs:{size:"small",type:"text"},on:{click:e.clearData}},[e._v("清空")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.confirmSearch}},[e._v("确定")])],1)],1),e._v(" "),a("div",{staticClass:"cell-content",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:"inputAndselection"==e.filterType,expression:"filterType=='inputAndselection'"}],staticClass:"fa fa-search title-click",style:e.changeValueInput?"color:#dd0000":"",on:{click:function(t){e.changeType="input"}}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"input"==e.filterType,expression:"filterType=='input'"}],staticClass:"fa fa-search title-click",style:e.changeValue?"color:#dd0000":""}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"inputAndselection"==e.filterType,expression:"filterType=='inputAndselection'"}],staticClass:"fa fa-filter title-click",style:0===e.changeValueSelect||!1===e.changeValueSelect?"color:#dd0000;margin-left:8px;":""!=e.changeValueSelect||e.changeValueSelect.length>0?"color:#dd0000;margin-left:8px;":"margin-left:8px;",on:{click:function(t){e.changeType="selection"}}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:"cascaderOil"==e.filterType||"cascaderIndustry"==e.filterType||"cascaderDevice"==e.filterType||"selection"==e.filterType||"dateSingle"==e.filterType||"dateRange"==e.filterType||"cascaderService"==e.filterType||"cascaderActtype"==e.filterType||"cascaderQue"==e.filterType||"datetimerange"==e.filterType||"year"==e.filterType,expression:"filterType=='cascaderOil'||filterType=='cascaderIndustry'||filterType=='cascaderDevice'||filterType=='selection'||filterType=='dateSingle'||filterType=='dateRange'||filterType=='cascaderService'||filterType=='cascaderActtype'||filterType=='cascaderQue'||filterType=='datetimerange' || filterType=='year'"}],staticClass:"fa fa-filter title-click",style:0===e.changeValue||!1===e.changeValue?"color:#dd0000;":""!=e.changeValue||e.changeValue.length>0?"color:#dd0000;":""}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.sortTypeVal,expression:"sortTypeVal!=''"}],staticClass:"sort_div iconPic",on:{click:function(t){return t.stopPropagation(),e.sortClick()}}},[a("div",{staticClass:"triangle-up",style:"sortUp"==e.sortTypeVal?"border-bottom: 6px solid #dd0000;":""}),e._v(" "),a("div",{staticClass:"triangle-down",style:"sortDown"==e.sortTypeVal?"border-top: 6px solid #dd0000;":""})])])])])],1)};m._withStripped=!0;var g={render:m,staticRenderFns:[]},f=g;var y=!1;var v=a("VU/8")(h,f,!1,function(e){y||a("UidP")},null,null);v.options.__file="src/components/tableComponents/headerComponent.vue";var b=v.exports,T={name:"customTable",components:{"column-header":b},props:{needSrollLoad:{type:Boolean,default:!1},tableData:{type:Array,default:function(){return[]}},tableHeader:{type:Array,require:!0,default:function(){return[]}},loading:{type:Boolean,default:!1},showSelect:{type:Boolean,default:!1},tableHeight:{type:String,default:"400"},listEmptyType:{type:String,default:""},limitFlag:{type:Boolean,default:!1},highlight:{type:Boolean,default:!1},pageInfoCurrent:{type:Number,default:1}},data:function(){return{selectOptions:[],tableKey:Date.now()}},watch:{tableData:{handler:function(e,t){var a=this;this.tableKey=Date.now(),_.isEmpty(e)||(this.tableData=e,this.$nextTick(function(){a.registerScrollEvent()}))},immediate:!0},tableHeader:{handler:function(e,t){if(!_.isEmpty(e)){var a;a=e.filter(function(e){return"空白列"==e.label}),this.tableKey=Date.now(),this.tableHeader=e,0==a.length&&this.tableHeader.splice(e.length-1,0,{label:"空白列",slot:"empty",width:80})}},immediate:!0},tableHeight:{handler:function(e,t){_.isEmpty(e)||(this.tableKey=Date.now(),this.tableHeight=e)},immediate:!0}},beforeDestroy:function(){this.uninstallScrollEvent()},methods:{registerScrollEvent:function(){var e=this;this.registerEvent&&(this.$nextTick(function(){setTimeout(function(){e.$refs.coustomTable.$el.querySelector(".el-table__body-wrapper").scrollTop=e.tableHeight*(e.pageInfoCurrent-1)-80},100)}),this.uninstallScrollEvent()),this.$refs.coustomTable.$el.querySelector(".el-table__body-wrapper").addEventListener("wheel",this.scrollDirection,{passive:!0}),this.$refs.coustomTable.$el.querySelector(".el-table__body-wrapper").addEventListener("scroll",this.loadMore,{passive:!0}),this.registerEvent=!0},uninstallScrollEvent:function(){this.$refs.coustomTable.$el.querySelector(".el-table__body-wrapper").removeEventListener("scroll",this.loadMore),this.$refs.coustomTable.$el.querySelector(".el-table__body-wrapper").removeEventListener("wheel",this.scrollDirection)},scrollDirection:function(e){this.deltaY=e.deltaY},loadMore:d()(function(e){if(!(this.deltaY<0)){var t=e.target;t.scrollTop+t.clientHeight+30>=t.scrollHeight&&this.$emit("loadMore",e)}},800),searchAppTable:function(e){this.$emit("changeSearch",e)},changeSortTable:function(e){this.$emit("changeSortTable",e)},renderHeader:function(e,t){var a=t.column,l=(t.$index,a.label);return[e("el-tooltip",{props:{content:l,placement:"top"}},[e("span",{},l)])]},handleSelectionChange:function(e){this.$emit("selectionChange",e)},handleSelect:function(e,t){this.$emit("select",e,t)},handleSelectAll:function(e){this.$emit("selectAll",e)},handleRowClick:function(e,t,a){this.$emit("rowClick",e,t)},clearSelection:function(){this.$refs.coustomTable.clearSelection(),this.$emit("selectionChange",[])},toggleRowSelection:function(e){this.$refs.coustomTable.toggleRowSelection(e,!0)},handleHeaderdragend:function(e,t,a,l){e<110&&(a.width=110,a.realWidth=110),""==a.label?(a.width=t,a.realWidth=t):e>300&&""!=a.label&&(a.width=300,a.realWidth=300)}}},w=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"table-container"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.tableKey,ref:"coustomTable",attrs:{data:e.tableData,width:"100%","row-key":"companyId",height:e.tableHeight,"tooltip-effect":"dark","header-row-class-name":"table_header_class",stripe:"","element-loading-text":"加载中...",border:"","highlight-current-row":!!e.highlight},on:{"selection-change":e.handleSelectionChange,select:e.handleSelect,"select-all":e.handleSelectAll,"row-click":e.handleRowClick,"header-dragend":e.handleHeaderdragend}},[e._l(e.tableHeader,function(t,a){return[t.slot?e._t(t.slot,null,{slotData:t,ind:a}):l("el-table-column",{key:a,attrs:{resizable:!1!==t.resizable&&a!=e.tableHeader.length-2,prop:t.prop,label:t.label,"label-class-name":"hightLight",type:t.type,fixed:t.fixed||!1,"min-width":t.minWidth?t.minWidth:"",width:t.width&&a!==e.tableHeader.length-2?t.width:"",align:t.align||"left","show-overflow-tooltip":t.tooltip||!1,"render-header":t.renderHeader?e.renderHeader:""},scopedSlots:e._u([{key:"default",fn:function(a){return[l("span",[e._v(e._s(a.row[t.prop]||"-"))])]}}],null,!0)},[t.paramValue&&""!=t.paramValue?l("template",{slot:"header"},[l("column-header",{attrs:{title:t.label,showTips:t.showTips,filterType:t.filterType,sortTypeVal:t.sortTypeVal,paramValue:t.paramValue,changeValue:t.changeValue,selectMultiple:t.selectMultiple,selectOptions:t.selectOptions},on:{changeSort:e.changeSortTable,chSubmit:e.searchAppTable}})],1):e._e()],2)]}),e._v(" "),l("template",{slot:"empty"},[l("div",{staticStyle:{"font-size":"13px","line-height":"21px",color:"#999"}},[l("img",{staticStyle:{width:"160px",height:"160px"},attrs:{src:a("HCmx"),alt:""}}),e._v(" "),l("div",[e._v("暂无数据")]),e._v(" "),"work_order"==e.listEmptyType?l("div",[e._v(e._s(e.limitFlag?"您可根据需要点击右上角按钮创建服务工单":"您可通过创建润滑服务申请开具润滑服务工单"))]):e._e(),e._v(" "),"customer_list"==e.listEmptyType?l("div",[e._v(e._s(e.limitFlag?"您可点击右上角按钮分管客户":"您可前往小程序端邀请客户注册"))]):e._e(),e._v(" "),"equipment"==e.listEmptyType?l("div",[e._v(e._s(e.limitFlag?"您可点击右上角按钮新建设备":""))]):e._e(),e._v(" "),"apply_list"==e.listEmptyType?l("div",[e._v("您可点击右上角按钮创建润滑服务申请单")]):e._e(),e._v(" "),"task_manager"==e.listEmptyType?l("div",[e._v(e._s(e.limitFlag?"您可根据需要点击右上角按钮创建任务":""))]):e._e(),e._v(" "),"abnormal_list"==e.listEmptyType?l("div",[e._v(e._s(e.limitFlag?"您可根据需要点击右上角按钮创建异常":""))]):e._e(),e._v(" "),"dealer-profile"==e.listEmptyType?l("div",[e._v(e._s(e.limitFlag?"您可根据需要点击右上角按钮分管经销商":""))]):e._e(),e._v(" "),"spot_item"==e.listEmptyType?l("div",[e._v(e._s(e.limitFlag?"您可点击右上角按钮创建检查项":""))]):e._e(),e._v(" "),"device_lube"==e.listEmptyType?l("div",[e._v(e._s(e.limitFlag?"您可根据需要点击右上角按钮创建特价润滑油表":""))]):e._e()])])],2)],1)};w._withStripped=!0;var V={render:w,staticRenderFns:[]},S=V;var A=!1;var x=a("VU/8")(T,S,!1,function(e){A||a("rlD3")},"data-v-b2c4381c",null);x.options.__file="src/components/tableComponents/customTable.vue";var k=x.exports,C=a("7o8y"),F={mixins:[{data:function(){return{tableDataHeader:[{filterType:"selection",paramValue:"woFormType",changeValue:"",prop:"woFormType",slot:"woFormType",label:"报告类型",width:"180",tooltip:!0,selectOptions:[]},{label:"描述",width:"200",tooltip:!0,prop:"remark"},{filterType:"selection",paramValue:"status",changeValue:"",prop:"status",slot:"status",label:"状态",width:"180",tooltip:!0,selectOptions:[{code:0,name:"禁用"},{code:1,name:"启用"}]},{filterType:"input",paramValue:"createName",changeValue:"",prop:"createName",label:"创建人",width:"130",tooltip:!0},{filterType:"dateRange",paramValue:"createTime",changeValue:"",prop:"createTime",label:"创建时间",width:"130",tooltip:!0},{filterType:"input",paramValue:"updateName",changeValue:"",prop:"updateName",label:"最后编辑人",width:"130",tooltip:!0},{filterType:"dateRange",paramValue:"updateTime",changeValue:"",prop:"updateTime",label:"最后编辑时间",width:"130",tooltip:!0},{slot:"operation",label:"操作"}]}}}],components:{CustomTabale:k,"column-header":b},data:function(){return{customTableData:[],pagenation:{current:1,size:30},totalNumber:0,searchParams:{woFormType:"",status:"",createName:"",createTime:"",updateName:"",updateTime:""},woFormTypeList:[],typeMap:{1:"循环系统检查报告",2:"液压系统检查报告",3:"闭式齿轮检查报告",4:"轴承检查报告",5:"开式齿轮检查报告",6:"发动机内窥镜检查报告",7:"闭式齿轮内窥镜检查报告",8:"设备检查报告",9:"油品泄露检查报告",10:"故障分析及处理建议书（油品故障-油品泡沫）",11:"故障分析及处理建议书（油品故障-油品乳化）",12:"故障分析及处理建议书（油品故障-油品污染）",13:"故障分析及处理建议书（油品故障-油品颜色变化）",14:"故障分析及处理建议书（油品故障-油品黏度超标）",15:"故障分析及处理建议书（油品故障-油品高温）",16:"故障分析及处理建议书（油品故障-油品沉积物）",17:"故障分析及处理建议书（油品故障-油品漆膜）",18:"故障分析及处理建议书（油品故障-其它异常或故障）",19:"故障分析及处理建议书（设备故障-过滤器堵塞）",20:"故障分析及处理建议书（设备故障-液压元件故障）",21:"故障分析及处理建议书（设备故障-齿轮异常磨损）",22:"故障分析及处理建议书（设备故障-滚动轴承异常磨损）",23:"故障分析及处理建议书（设备故障-滚动轴承失效）",24:"故障分析及处理建议书（设备故障-供脂系统故障）",25:"故障分析及处理建议书（设备故障-其它异常或故障）",26:"故障分析及处理建议书（其它故障-其它异常或故障）"}}},created:function(){this.getFormList(),this.getWoFormTypeList()},methods:{getWoFormTypeList:function(){var e=this;return p()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.requestMethodGetTip("wo/formConfig/getWoFormType",{current:1,size:30});case 2:1e3==(a=t.sent).data.code&&(e.woFormTypeList=a.data.data.list,e.tableDataHeader[0].selectOptions=a.data.data.list,e.tableDataHeader=e.tableDataHeader.map(function(e){return e}));case 4:case"end":return t.stop()}},t,e)}))()},createReportForm:function(){this.$router.push({name:"ReportFormCreate"})},editReportForm:function(e){this.$router.push({name:"ReportFormEdit",query:{woFormId:e.woFormId,woFormType:e.woFormType,remark:e.remark,status:e.status}})},deleteReportForm:function(e){var t=this;return p()(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.o)(n()({},e,{woFormId:e.woFormId,delFlag:1}));case 3:1e3==a.sent.data.code&&(t.$message.success("删除成功"),t.resetForm()),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("this is e",a.t0);case 10:case"end":return a.stop()}},a,t,[[0,7]])}))()},handleSizeChange:function(e){this.pagenation.size=e,this.getFormList()},handleCurrentChange:function(e){this.pagenation.current=e,this.getFormList()},refreshGetFormList:function(){this.pagenation={current:1,size:30},this.getFormList()},getFormList:function(){var e=this;return p()(c.a.mark(function t(){var a,l;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={current:e.pagenation.current,size:e.pagenation.size},r()(e.searchParams).forEach(function(t){e.searchParams[t]&&!["createTime","updateTime"].includes(t)&&(a[t]=e.searchParams[t]),e.searchParams.createName&&(a.createUser=e.searchParams.createName),e.searchParams.updateName&&(a.updateUser=e.searchParams.updateName)}),t.next=4,e.requestMethodGetTip("/wo/form/getFormList",a);case 4:1e3==(l=t.sent).data.code&&(e.customTableData=l.data.data.list,e.totalNumber=l.data.data.totalCount);case 6:case"end":return t.stop()}},t,e)}))()},resetForm:function(){this.searchParams={woFormType:"",status:"",createName:"",createTime:"",updateName:"",updateTime:""},this.pagenation={current:1,size:30},this.tableDataHeader.forEach(function(e){e.changeValue=""}),this.refreshGetFormList()},tableInputSearch:function(e){this.searchParams[e.paramValue]=e.changeValue,["updateTime","createTime"].includes(e.paramValue)&&(this.searchParams[e.paramValue+"Start"]=e.changeValue[0],this.searchParams[e.paramValue+"End"]=e.changeValue[1]),"status"==e.paramValue&&(this.searchParams[e.paramValue]=e.changeValue.toString&&e.changeValue.toString());var t=this.tableDataHeader.find(function(t){return t.paramValue==e.paramValue});t&&(t.changeValue=e.changeValue),this.refreshGetFormList()}}},D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custome-table__container"},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置筛选")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"danger"},on:{click:e.createReportForm}},[e._v("新建")]),e._v(" "),a("CustomTabale",{attrs:{tableHeight:"70vh",tableHeader:e.tableDataHeader,tableData:e.customTableData},on:{changeSearch:e.tableInputSearch},scopedSlots:e._u([{key:"woFormType",fn:function(t){return[a("el-table-column",{attrs:{resizable:!1,label:"报告类型",width:"200","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.typeMap[t.row.woFormType])+"\n        ")]}}],null,!0)},[a("template",{slot:"header"},[a("column-header",{attrs:{title:"报告类型",filterType:t.slotData.filterType,paramValue:t.slotData.paramValue,changeValue:t.slotData.changeValue,selectMultiple:t.slotData.selectMultiple,selectOptions:t.slotData.selectOptions},on:{chSubmit:e.tableInputSearch}})],1)],2)]}},{key:"status",fn:function(t){return[a("el-table-column",{attrs:{resizable:!1,label:"状态",width:"200","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(1==t.row.status?"启用":"禁用")+"\n        ")]}}],null,!0)},[a("template",{slot:"header"},[a("column-header",{attrs:{title:"状态",filterType:t.slotData.filterType,paramValue:t.slotData.paramValue,changeValue:t.slotData.changeValue,selectMultiple:t.slotData.selectMultiple,selectOptions:t.slotData.selectOptions},on:{chSubmit:e.tableInputSearch}})],1)],2)]}}])},[e._v(" "),e._v(" "),a("el-table-column",{attrs:{slot:"operation",resizable:!1,fixed:"right",label:"操作",align:"center",width:"200"},slot:"operation",scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"#001450"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.editReportForm(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticStyle:{color:"#d10000"},attrs:{disabled:1==t.row.status,type:"text",size:"mini"},on:{click:function(a){return e.deleteReportForm(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.pagenation.current,"page-size":e.pagenation.size,"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:e.totalNumber},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.pagenation,"current",t)},"update:current-page":function(t){return e.$set(e.pagenation,"current",t)}}})],1)};D._withStripped=!0;var N={render:D,staticRenderFns:[]},O=N;var L=!1;var E=a("VU/8")(F,O,!1,function(e){L||a("+ff0")},"data-v-0bb5ca6a",null);E.options.__file="src/components/ReportForm/index.vue";t.default=E.exports},UidP:function(e,t){},rlD3:function(e,t){}});